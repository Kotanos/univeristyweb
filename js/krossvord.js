var tbl;

var tpNums = [
    [" ", " ", " ", "7", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " " , " " , " " , " " , " "],
    [" ", " ", " ", "1", "3", " ", " ", " ", " ", " ", " ", " ", " ", "5", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " " , " " , " " , " " , " "],
    [" ", " ", "4", "3", "1", "3", "4", " ", " ", "1", " ", "3", "4", "1", " ", "4", "3", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " " , " " , " " , " " , " "],
    [" ", " ", "1", "1", "1", "1", "1", "3", " ", "7", "2", "3", "2", "2", " ", "1", "1", " ", " ", " ", "2", " ", " ", "1", " ", " ", " ", " " , " " , " " , " " , " "],
    [" ", " ", "5", "1", "2", "3", "1", "1", "6", "1", "7", "2", "2", "2", "4", "1", "1", "1", " ", "1", "1", "1", "1", "1", " ", "1", "1", " " , "5" , "2" , " " , " "],
    [" ", "7", "2", "1", "6", "6", "2", "3", "1", "1", "1", "1", "1", "2", "5", "1", "1", "2", "1", "1", "2", "1", "1", "1", "3", "1", "1", " " , "1" , "5" , " " , "4"],
	["0", "6", "1", "1", "1", "1", "5", "7", "2", "3", "4", "3", "2", "2", "4", "1", "1", "1", "3", "1", "1", "3", "1", "1", "1", "2", "1", "2" , "1" , "1" , "6" , "1"],
    ["7", "3", "6", "3", "2", "1", "1", "1", "9", "6", "4", "3", "2", "1", "2", "1", "1", "2", "2", "1", "1", "2", "4", "2", "3", "1", "1", "2" , "3" , "1" , "4" , "1"]
];
var lfNums = [
    [" ", " ", " ", " ", " ", "6"],
    [" ", " ", " ", "2", "1", "6"],
    [" ", " ", " ", " ", "5", "6"],
    [" ", " ", " ", " ", "7", "5"],
    [" ", " ", " ", "2", "6", "4"],
    [" ", " ", " ", "2", "5", "2"],
    [" ", " ", "6", "4", "1", "4"],
    ["2", "3", "1", "1", "1", "2"],
    [" ", " ", "3", "2", "1", "8"],
    ["1", "1", "2", "2", "5", "5"],
    ["2", "2", "2", "3", "1", "3"],
    ["1", "1", "2", "4", "1", "1"],
    [" ", "2", "3", "1", "1", "2"],
    ["2", "1", "1", "2", "1", "1"],
    [" ", "3", "5", "1", "1", "3"],
    ["2", "1", "3", "1", "1", "1"],
    ["4", "1", "2", "1", "1", "1"],
    [" ", " ", "5", "2", "2", "1"],
    [" ", " ", "4", "1", "3", "1"],
    ["3", "2", "2", "2", "3", "2"],
    ["2", "3", "7", "1", "1", "5"],
    [" ", "1", "3", "11", "3", "2"],
    [" ", " ", "2", "6", "2", "3"],
    [" ", " ", "2", "6", "6", "1"],
    [" ", " ", " ", "3", "6", "2"],
    [" ", " ", " ", " ", "4", "5"],
    [" ", " ", "1", "1", "1", "5"],
    [" ", " ", " ", "4", "1", "5"],
    [" ", " ", " ", "5", "1", "5"],
    [" ", " ", " ", "6", "1", "5"]
];
var mainNums=[
["0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"0" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["0" ,"0" ,"0" ,"1" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["0" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"0"],
["0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1"],
["0" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"0" ,"0" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"0" ,"0" ,"1" ,"0" ,"1" ,"1"],
["0" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1"],
["0" ,"1" ,"0" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"0" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1"],
["0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"1" ,"1" ,"1" ,"0"],
["0" ,"1" ,"0" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"0"],
["0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"0" ,"1" ,"0" ,"0" ,"1" ,"1" ,"0"],
["0" ,"1" ,"1" ,"0" ,"1" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"1" ,"0"],
["0" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"0" ,"1" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1"],
["0" ,"0" ,"1" ,"1" ,"0" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"1" ,"0"],
["0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"1"],
["0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"0" ,"0"],
["0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"0" ,"0"],
["0" ,"0" ,"1" ,"1" ,"1" ,"0" ,"1" ,"1" ,"0" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"0" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0"],
["0" ,"1" ,"1" ,"0" ,"1" ,"1" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"1" ,"0" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0"],
["0" ,"1" ,"0" ,"1" ,"1" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"1" ,"1" ,"1" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["0" ,"1" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["1" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["1" ,"1" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["1" ,"1" ,"1" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["1" ,"0" ,"1" ,"0" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["1" ,"1" ,"1" ,"1" ,"0" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
["1" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"1" ,"0" ,"1" ,"1" ,"1" ,"1" ,"1" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0" ,"0"],
];


var fullTableHeight = lfNums.length + tpNums.length;
var fullTableWidth = lfNums[0].length + tpNums[0].length;

function createTable(leftNums, topNums) {

    var tab_cont = document.getElementById("table-container");
    tbl = document.createElement('table');
    tbl.className = "cross-table";

    for (var i = 0; i < fullTableHeight; i++) {
        var tr = tbl.insertRow();
        for (var j = 0; j < fullTableWidth; j++) {
            if (i == 0 && j == 0) {
                var td = tr.insertCell();
                td.setAttribute('colSpan', "" + leftNums[0].length);
                td.setAttribute('rowSpan', "" + topNums.length);
                td.className = "td-zero-cell";
            }

            if ((i < topNums.length) && (j < leftNums[0].length)) {
                continue;
            } else {
                var td = tr.insertCell();
                if ((j+1) % 5==0 && (j+1)>leftNums[0].length) td.className+=" fvth-bl-right";
                if ((i+1-topNums.length) % 5==0 && (i+1-topNums.length)>0  ) td.className+=" fvth-bl-bot";
                if (i < topNums.length)
                    td.appendChild(document.createTextNode(topNums[i][j - 6]));
                if (j < leftNums[0].length)
                    td.appendChild(document.createTextNode(leftNums[i - 8][j]));
                if (i < topNums.length || j < leftNums[0].length)
                    td.className+= " td-header-cell";
                else {
                    td.className+= " td-field-cell";
                    td.style.background="white";
                    td.onmousedown = function () {
                        if (this.style.background == "white") this.style.background = "black";
                        else if (this.style.background == "black")  this.style.background = "white";

            }
                }
            }
        }
    }
    tab_cont.appendChild(tbl);
}

function clearTable() {
   
    for (i = tpNums.length; i <fullTableHeight ; i++) {
        c = tbl.rows[i].cells;
        
        for (j = lfNums[0].length; j < fullTableWidth; j++) {
            c[j].style.background = "white";
        }
    }
}

function showAnswer() {

    for (i = tpNums.length; i <fullTableHeight ; i++) {
        c = tbl.rows[i].cells;
        
        for (j = lfNums[0].length; j < fullTableWidth; j++) {
           if (mainNums[i-tpNums.length][j-lfNums[0].length]=="1")
            c[j].style.background = "black";
         else c[j].style.background = "white";
        }
    }
}

function checkRez()
{
     var rezl=true;
    for (i = tpNums.length; i <fullTableHeight ; i++) {
        c = tbl.rows[i].cells;
        
        for (j = lfNums[0].length; j < fullTableWidth; j++) {
           if ((mainNums[i-tpNums.length][j-lfNums[0].length]=="1" && c[j].style.background == "white") ||
               (mainNums[i-tpNums.length][j-lfNums[0].length]=="0" && c[j].style.background == "black"))
           {
               rezl=false;
               break;
           }

        }
    } 
rezl?alert("Кроссворд решен правильно!"):alert("Кроссворд решен не правильно!");
}


createTable(lfNums, tpNums);